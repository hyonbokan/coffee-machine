# Тестовое задание. BackEnd Кофемашина
Необходимо разработать ПО для работы кофемашины и ее управления через API.

## Функциональные требования:
1. Кофемашина умеет готовить 3 стандартных напитка:
    - эспрессо
    - американо
    - капучино

2. Кофемашина умеет контролировать количество и остатки ингредиентов;
3. Кофемашина умеет запоминать новые рецепты;

    Пример:
    ```json
    {
      "name": "Latte",
      "ingredients": [
        {
          "id": 1,
          "name": "Coffee Beans",
          "quantity": 10
        },
        {
          "id": 3,
          "name": "Milk",
          "quantity": 50
        }
      ]
    }
    ```
4. Кофемашина собирает статистику и знает самый популярный напиток;
5. Машина работает только с 8:00 и до 17:00 и не работает по выходным и праздничным дням. Их необходимо получать по апи https://date.nager.at/Api. Добавить кэш.

## Требования к технологиям:
- web-сервис на SpringFramework или SpringBoot,
- java выше 17,
- сборщик Maven,
- БД PostgresSQL (можно другую, с обоснованием),
- для тестирования API подключить SwaggerUI.


## Этапы реализации

1. **Проектирование базы данных**

    Создана нормализованная схема базы данных PostgreSQL для управления рецептами, заказами и ингредиентами. Реализованы миграции с помощью Flyway.

2. **Разработка API**

    - Реализованы RESTful-эндпоинты для управления рецептами, создания заказов и сбора статистики.
    - Интеграция Swagger UI для тестирования API.

3. **Бизнес-логика**

    - Реализовано отслеживание ингредиентов.
    - Добавлена поддержка новых рецептов с валидацией.
    - Внедрено кеширование данных о праздниках.

4. **Ограничения работы кофемашины**

    - Реализована проверка доступности машины в зависимости от времени, выходных и праздничных дней, загружаемых через API Nager.Date.

5. **Тестирование и валидация**

    - Тестирование API с использованием Swagger UI.
    - Проведены модульные и интеграционные тесты.


## Структура проекта
  ```bash
  coffee-machine/
  │
  ├── src/main/java/com/example/coffee_machine
  │   ├── config/                # Конфигурационные файлы (например, RestTemplate)
  │   ├── controller/            # REST-контроллеры для API
  │   ├── dto/                   # DTO (Data Transfer Objects)
  │   ├── model/                 # Сущности базы данных
  │   ├── repository/            # Репозитории JPA
  │   ├── service/               # Логика и бизнес-сервисы
  │   ├── utils/                 # Утилиты (например, проверка доступности машины)
  │   └── CoffeeMachineApplication.java # Основной класс приложения
  │
  ├── src/main/resources
  │   ├── db/migration/          # Миграции Flyway
  │   ├── META-INF/              # Конфигурационные метаданные Spring
  │   ├── application.properties # Настройки приложения
  │
  ├── pom.xml                    # Конфигурация Maven
  └── README.md                  # Документация проекта
  ```